# Network 모듈 설명

---

## 1) 모듈 역할

- EKS가 사용할 VPC와 퍼블릭/프라이빗 서브넷을 구성한다.
- 퍼블릭 서브넷은 ALB가 배치될 수 있도록 태그를 붙인다.
- 프라이빗 서브넷은 워커 노드가 위치할 수 있도록 태그를 붙인다.
- 선택적으로 S3 Gateway Endpoint를 추가해 NAT 트래픽을 줄인다.

---

## 2) .tf 파일 구성

### main.tf

- `terraform-aws-modules/vpc/aws`로 VPC/서브넷/NAT를 생성한다.
- 퍼블릭/프라이빗 서브넷에 EKS/ALB용 태그를 설정한다.
- `enable_s3_endpoint`가 true일 때 S3 VPC Endpoint를 만든다.

### variables.tf

- `cluster_name`: VPC 이름과 서브넷 태그에 사용.
- `vpc_cidr`: VPC 주소 대역.
- `region`: S3 Endpoint 생성 시 사용.
- `enable_s3_endpoint`: S3 Endpoint 생성 여부.

### outputs.tf

- `vpc_id`: 클러스터/애드온에서 참조할 VPC ID.
- `public_subnets`: ALB 배치용 퍼블릭 서브넷 목록.
- `private_subnets`: 워커 노드 배치용 프라이빗 서브넷 목록.

---

# 빠른 요약

- VPC + 퍼블릭/프라이빗 서브넷을 만들고 EKS용 태그를 부여한다.
- NAT와 (선택) S3 Endpoint로 외부 통신 경로를 구성한다.
- 클러스터에서 사용할 네트워크 기본값을 출력으로 제공한다.

---
