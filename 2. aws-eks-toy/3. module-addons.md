# Addons 모듈 설명

---

## 1) 모듈 역할

- AWS Load Balancer Controller(ALB Ingress)를 설치한다.
- IRSA용 IAM Role/Policy를 생성해 컨트롤러 권한을 부여한다.
- 선택적으로 ExternalDNS를 설치해 Route53 레코드를 자동 관리한다.

---

## 2) .tf 파일 구성

### main.tf

- `aws_iam_policy` + IRSA 모듈로 ALB 컨트롤러 권한을 구성한다.
- `helm_release`로 AWS Load Balancer Controller를 설치한다.
- `enable_external_dns`가 true일 때 ExternalDNS IAM/Helm을 설치한다.

### variables.tf

- `cluster_name`, `region`, `vpc_id`: ALB 컨트롤러 설치에 필요한 기본 값.
- `oidc_provider_arn`: IRSA 연동용 OIDC ARN.
- `lb_controller_namespace`: 컨트롤러 설치 네임스페이스.
- `enable_external_dns`, `external_dns_namespace`, `domain_name`: ExternalDNS 옵션.

---

# 빠른 요약

- ALB Ingress Controller를 IRSA 방식으로 설치한다.
- 필요 시 ExternalDNS를 추가해 DNS 레코드를 자동화한다.

---
